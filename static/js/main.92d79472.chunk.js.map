{"version":3,"sources":["components/Contacts/Contacts.module.css","components/FindContact/FindContact.module.css","components/Section/Section.jsx","redux/actionOperation.js","redux/contacts-selectors.js","components/InputContact/InputContact.jsx","redux/actions.js","components/FindContact/FindContact.jsx","components/Contacts/Contacts.jsx","components/App/App.js","redux/reducer.js","redux/store.js","index.js","components/InputContact/InputContact.module.css"],"names":["module","exports","Section","title","children","axios","defaults","baseURL","fetchContact","createAsyncThunk","_","a","rejectWithValue","get","contacts","data","addContact","name","number","post","deleteContact","id","delete","getContacts","state","items","getFilter","filter","getIsLoading","isLoading","getError","error","InputContact","props","useSelector","dispatch","useDispatch","className","s","form","onSubmit","e","preventDefault","find","el","toLowerCase","target","value","alert","label","input","type","pattern","required","button","findContact","createAction","FindContact","onChange","ev","Contacts","dataFilterContact","map","includes","li","onClick","App","useEffect","style","color","length","itemReducer","createReducer","fulfilled","payload","contact","errorReducer","rejected","pending","filterReducer","reducerContacts","combineReducers","store","configureStore","reducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.92d79472.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"li\":\"Contacts_li__1EFHx\",\"button\":\"Contacts_button__kC_O0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"FindContact_label__2rKPI\",\"input\":\"FindContact_input__3Fq4u\"};","import React from \"react\";\r\n\r\nexport default function Section({ title, children }) {\r\n  return (\r\n    <>\r\n      <h2>{title}</h2>\r\n      {children}\r\n    </>\r\n  )\r\n}","import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"http://localhost:3004/contacts\";\r\n\r\nexport const fetchContact = createAsyncThunk(\r\n  \"contacts/fetchContacts\",\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const contacts = await axios.get();\r\n      return contacts.data;\r\n    } catch (error) {\r\n      return rejectWithValue(error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const addContact = createAsyncThunk(\r\n  \"contacts/addContacts\",\r\n  async ({ name, number }, { rejectWithValue }) => {\r\n    try {\r\n      const contacts = await axios.post(\"http://localhost:3004/contacts\", {\r\n        name,\r\n        number,\r\n      });\r\n      return contacts.data;\r\n    } catch (error) {\r\n      return rejectWithValue(error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const deleteContact = createAsyncThunk(\r\n  \"contacts/deleteContacts\",\r\n  async (id, { rejectWithValue }) => {\r\n    try {\r\n      await axios.delete(`http://localhost:3004/contacts/${id}`);\r\n      return id;\r\n    } catch (error) {\r\n      return rejectWithValue(error);\r\n    }\r\n  }\r\n);\r\n","export const getContacts = (state) => state.contacts.items;\r\nexport const getFilter = (state) => state.contacts.filter;\r\nexport const getIsLoading = (state) => state.contacts.isLoading;\r\nexport const getError = (state) => state.contacts.error;\r\n","import s from \"../InputContact/InputContact.module.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addContact } from \"../../redux/actionOperation\";\r\nimport { getContacts } from \"../../redux/contacts-selectors\";\r\n\r\nexport default function InputContact(props) {\r\n  const contacts = useSelector(getContacts);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (\r\n      contacts?.find(\r\n        (el) => el.name.toLowerCase() === e.target.name.value.toLowerCase()\r\n      )\r\n    ) {\r\n      alert(`\"${e.target.name.value}\" is already in contacts.`);\r\n    } else {\r\n      dispatch(\r\n        addContact({ name: e.target.name.value, number: e.target.number.value })\r\n      );\r\n    }\r\n\r\n    e.target.name.value = \"\";\r\n    e.target.number.value = \"\";\r\n  };\r\n\r\n  return (\r\n    <form className={s.form} onSubmit={handleSubmit}>\r\n      <label className={s.label}>\r\n        Name\r\n        <input\r\n          className={s.input}\r\n          type=\"text\"\r\n          name=\"name\"\r\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n          title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\r\n          required\r\n        />\r\n      </label>\r\n      <label className={s.label}>\r\n        Number\r\n        <input\r\n          className={s.input}\r\n          type=\"tel\"\r\n          name=\"number\"\r\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n          title=\"Номер телефона должен состоять из 5ти и более цифр, и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\r\n          required\r\n        />\r\n      </label>\r\n      <button className={s.button} type=\"submit\">\r\n        Add contact\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nexport const findContact = createAction(\"FIND_CONTACT\");\r\n","import s from \"../FindContact/FindContact.module.css\";\r\n\r\nexport default function FindContact(props) {\r\n  const findInputChange = (ev) => {\r\n    props.onChange(ev.target.value.toLowerCase());\r\n  };\r\n\r\n  return (\r\n    <label className={s.label}>\r\n      Find contacts by name\r\n      <input className={s.input} onChange={findInputChange} />\r\n    </label>\r\n  );\r\n}\r\n","import { useSelector, useDispatch } from \"react-redux\";\r\nimport { findContact } from \"../../redux/actions\";\r\nimport FindContact from \"../FindContact/FindContact\";\r\nimport s from \"../Contacts/Contacts.module.css\";\r\nimport { deleteContact } from \"../../redux/actionOperation\";\r\nimport { getContacts, getFilter } from \"../../redux/contacts-selectors\";\r\n\r\nexport default function Contacts() {\r\n  const contacts = useSelector(getContacts);\r\n  const filter = useSelector(getFilter);\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <>\r\n      <FindContact\r\n        onChange={(dataFilterContact) =>\r\n          dispatch(findContact(dataFilterContact))\r\n        }\r\n      />\r\n\r\n      <ul>\r\n        {contacts.map((el) => {\r\n          if (filter) {\r\n            if (el.name.toLowerCase().includes(filter)) {\r\n              return (\r\n                <li key={el.id} className={s.li}>\r\n                  {el.name} {el.number}\r\n                  <button\r\n                    className={s.button}\r\n                    onClick={() => dispatch(deleteContact(el.id))}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </li>\r\n              );\r\n            }\r\n          } else {\r\n            return (\r\n              <li key={el.id} className={s.li}>\r\n                {el.name} {el.number}\r\n                <button\r\n                  className={s.button}\r\n                  onClick={() => dispatch(deleteContact(el.id))}\r\n                >\r\n                  Delete\r\n                </button>\r\n              </li>\r\n            );\r\n          }\r\n        })}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n","import \"./App.css\";\n\nimport Section from \"../Section/Section\";\nimport InputContact from \"../InputContact/InputContact\";\nimport Contacts from \"../Contacts/Contacts\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchContact } from \"../../redux/actionOperation\";\nimport {\n  getContacts,\n  getIsLoading,\n  getError,\n} from \"../../redux/contacts-selectors\";\n\nexport default function App() {\n  const contacts = useSelector(getContacts);\n  const isLoading = useSelector(getIsLoading);\n  const error = useSelector(getError);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchContact());\n  }, [dispatch]);\n\n  return (\n    <div className=\"App\">\n      <Section title=\"Phonebook\">\n        <InputContact />\n      </Section>\n      {isLoading && <h1>Загружаем...</h1>}\n      {error && (\n        <h1 style={{ color: \"red\" }}>Произошла ошибка, попробуйте снова...</h1>\n      )}\n      {contacts?.length > 0 && (\n        <Section title=\"Contacts\">\n          <Contacts />\n        </Section>\n      )}\n    </div>\n  );\n}\n","import { combineReducers } from \"redux\";\r\nimport { findContact } from \"./actions\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\nimport { addContact, fetchContact, deleteContact } from \"./actionOperation\";\r\n\r\nexport const itemReducer = createReducer([], {\r\n  [fetchContact.fulfilled]: (_, { payload }) => payload,\r\n  [addContact.fulfilled]: (state, { payload }) => [...state, payload],\r\n  [deleteContact.fulfilled]: (state, { payload }) =>\r\n    state.filter((contact) => contact.id !== payload),\r\n});\r\n\r\nexport const errorReducer = createReducer(null, {\r\n  [fetchContact.rejected]: (_, { payload }) => payload,\r\n  [fetchContact.pending]: () => false,\r\n  [addContact.rejected]: (_, { payload }) => payload,\r\n  [addContact.pending]: () => false,\r\n  [deleteContact.rejected]: (_, { payload }) => payload,\r\n  [deleteContact.pending]: () => false,\r\n});\r\n\r\nexport const isLoading = createReducer(false, {\r\n  [fetchContact.pending]: () => true,\r\n  [fetchContact.fulfilled]: () => false,\r\n  [fetchContact.rejected]: () => false,\r\n  [addContact.pending]: () => true,\r\n  [addContact.fulfilled]: () => false,\r\n  [addContact.rejected]: () => false,\r\n  [deleteContact.pending]: () => true,\r\n  [deleteContact.fulfilled]: () => false,\r\n  [deleteContact.rejected]: () => false,\r\n});\r\n\r\nconst filterReducer = createReducer(\"\", {\r\n  [findContact.type]: (_, { payload }) => payload,\r\n});\r\n\r\nconst reducerContacts = combineReducers({\r\n  items: itemReducer,\r\n  filter: filterReducer,\r\n  isLoading,\r\n  error: errorReducer,\r\n});\r\n\r\nexport default reducerContacts;\r\n","import reducerContacts from \"./reducer\";\r\nimport { configureStore } from \"@reduxjs/toolkit\";\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    contacts: reducerContacts,\r\n  },\r\n});\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\nimport \"modern-normalize/modern-normalize.css\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"InputContact_form__3wppL\",\"label\":\"InputContact_label__2lLik\",\"input\":\"InputContact_input__3u1Qd\",\"button\":\"InputContact_button__3DWlw\"};"],"sourceRoot":""}